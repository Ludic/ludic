{"version":3,"sources":["webpack:///webpack/bootstrap 6f7587c6ad8ddea8ec3e","webpack:///./src/components/util/util.js","webpack:///./src/components/app/ludic.js","webpack:///./src/components/ui/HUDElement.js","webpack:///./src/components/base/asset.js","webpack:///./src/components/base/assetManager.js","webpack:///./src/components/base/camera.js","webpack:///./src/components/base/imageAsset.js","webpack:///./src/components/canvas/canvas.js","webpack:///./src/components/engine/Vector2.js","webpack:///./src/components/input/inputController.js","webpack:///./src/components/screen/screenManager.js","webpack:///./src/components/sprite/BaseSprite.js","webpack:///./src/components/ui/Dialog.js","webpack:///./src/components/app/LudicApp.js","webpack:///./src/components/base/fps.js","webpack:///./src/components/patches/Path2D.js","webpack:///./src/components/screen/screen.js","webpack:///./src/components/sprite/MultiSprite.js","webpack:///./src/components/ui/Hud.js","webpack:///./src/components/ui/MenuDialog.js","webpack:///./src/components/ui/Text.js","webpack:///./src/components/util/utilities.js","webpack:///./src/components/base/imageAssetLoader.js","webpack:///./src/components/ein/BaseSystem.js","webpack:///./src/components/input/keyCodeMap.js","webpack:///./src/main.js","webpack:///./src/components/util/privateProperty.js"],"names":["_config","canvas","fullscreen","fps","world","gravity","x","y","drawAxes","drawDebug","console","log","Util","hex","opacity","replace","r","parseInt","substring","g","b","result","val","places","c","i","Math","round","self","ns","pattern","logNames","logValues","undefined","name","RegExp","match","arguments","length","key","hasOwnProperty","obj","extend","config","configure","scope","param","def","params","split","e","value","l","prop","configureConsole","_log","Ludic","extensions","HUDElement","delta","Asset","url","type","options","resolve","reject","am","data","AssetManager","assets","loadQueue","promiseQueue","loaders","addLoader","overwrite","promise","asset","NewAsset","push","loading","then","onAssetResolve","bind","onAssetReject","getAsset","Promise","reason","finalPromise","all","assetsLoaded","apply","shift","load","onAssetsLoadedCallback","callback","loader","destroy","fileTypes","forEach","DEFAULT_PTM","DEFAULTS","inverseY","inverseX","ptm","Camera","Object","assign","width","height","option","canva","warn","viewCenterPixel","singleWorldPoint","singlePixelPoint","offset","futurePos","updateEnvironmentVariables","window","addEventListener","camera","ctx","setTransform","strokeStyle","beginPath","moveTo","lineTo","stroke","ent","chaseMethod","chaseEntity","pixelPoint","_getWorldPointFromPixelPoint_x","_getWorldPointFromPixelPoint_y","worldPoint","_getPixelPointFromWorldPoint_x","_getPixelPointFromWorldPoint_y","vector2","instantaneous","fraction","currentViewCenterWorld","getViewCenterWorld","toMove","get_x","get_y","moveCenterBy","setOffset","setViewCenterWorld","getWorldPointFromPixelPoint","myRound","bounds","w","h","translate","getOffsetX","getOffsetY","getPTM","scale","lineWidth","ImageAsset","Image","onload","src","Canvas","setupFullscreen","readConfig","focus","ludicContainerId","canvasId","body","document","querySelector","container","createElement","id","appendChild","setAttribute","setElement","resize","wrapper","canvasWrapper","el","innerWidth","innerHeight","removeEventListener","dimension","getContext","Vector2","listeners","defaultKeyConfig","preventDefault","ps4Mapping","buttons","axes","sticks","lx","ly","rx","ry","gamepadMaps","gamepadsAxisDeadZone","gamepadsConfig","mousePosPixel","prevMousePosPixel","InputController","initKeys","initMouse","initGamepads","listener","binder","alsoAdd","InputEventListener","ix","indexOf","splice","allKeys","evt","onKeyEvent","down","dir","keyCode","logAllKeys","enabled","cfg","keyConfig","Array","isArray","keys","modifiers","direction","method","_once","shiftKey","altKey","ctrlKey","_execCommand","once","stopPropagation","args","call","onMouseEvent","updateMousePos","bndr","rect","getBoundingClientRect","clientX","left","clientY","top","gamepads","lastButtonStates","lastAxisStates","gamepad","index","getGamepads","gps","navigator","gp","_stepGamepads","lastState","getLastState","pressed","gamepadButtonEvent","setLastState","axis","dz","getDeadZone","getLastAxisState","gamepadAxisEvent","zeroed","gpIndex","state","gamepadIndex","deadZone","button","onGamepadButtonEvent","GamepadButtonEvent","func","keyIdentifier","gamepadId","axisIndex","setLastAxisState","gpMap","getGamepadMap","stick","GamepadAxisEvent","values","getValueByAxisId","onGamepadAxis","stripModifiers","mods","ret","mod","importKeyConfig","_key","KeyCodeMap","map","conf","_loadListener","methods","avail","code","Number","isNaN","_code","arr","event","Gamepad","prototype","axisId","_stack","_listeners","ScreenManager","idIncrementer","getNewId","set","Proxy","get","target","ScreenEventListener","stack","screen","_step","_isFinished","onScreenFinished","_finalData","$manager","$id","onAddedToManager","onScreenAdded","pop","onRemovedFromManager","onScreensRemoved","onWarnPopScreen","findIndex","s","screensRemoved","slice","reverse","addScreenEventListener","manager","replaced","RIGHT","LEFT","BaseSprite","image","framesX","framesY","offsetX","offsetY","getImage","frames","frameWidth","frameHeight","totalFrames","scaleToWidth","currentFrameIndex","parseSpriteSheet","setFrame","frame","sx","sy","frameIndex","pos","use","useShadow","drawWidth","drawHeight","save","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawImage","restore","valid_positions_x","valid_positions_y","Dialog","position","positionX","positionY","backgroundColor","textColor","title","visible","borderColor","borderWidth","_x","_y","__calcPosition","show","getPosition","_drawBorder","_drawBackground","fillStyle","font","fillText","bw","closePath","fillRect","hide","_positionX","_positionY","c_width","c_height","__getXfromPositionX","__getYfromPositionY","posX","posY","_offsetX","_offsetY","positions","__validatePositionX","__validatePositionY","LudicApp","setConfig","context","screenManager","input","util","devmode","running","lastTime","Date","now","_requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","_animate","time","_time","update","updateFunction","timeTotal","averageArray","period","average","onmessage","postMessage","Path2D","p","arc","ellipse","Screen","rest","onDestroy","MultiSprite","start","count","_ix","end","slices","sliceName","states","setSlice","optScale","fl","df","floor","axesLength","HUD","$refs","elements","resetTransform","render","element","ref","MenuDialog","menuItems","item","MenuItem","newEventListener","up","selectPreviousItem","selectNextItem","toggleMenuOpen","selectedItemIndex","selectItem","selectedItem","deselect","select","keyDown","toggle","text","selected","Text","fontFamily","fontSize","fontSizeUnit","color","drawStyle","adjustOrigin","_adjustOrigin","setFontSize","setPosition","__fontSize","strokeText","_fontSize","setPositionX","setPositionY","unit","parseFloat","classTypeOf","typeToCheck","getPrototypeOf","Function","ImageAssetLoader","active","priority","BaseSystem","entities","em","PrivateProperty","weakMap","WeakMap","ctor","setArgs"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f7587c6ad8ddea8ec3e","\nvar _config = {\n  canvas: {\n    fullscreen: false,\n    fps: false\n  },\n  world: {\n    gravity: {\n      x: 0,\n      y: 0,\n    },\n    drawAxes: false,\n    drawDebug: false\n  },\n  console: {\n    log: true\n  }\n};\n\nclass Util {\n\n  static convertHex(hex,opacity){\n    hex = hex.replace('#','');\n    var r = parseInt(hex.substring(0,2), 16);\n    var g = parseInt(hex.substring(2,4), 16);\n    var b = parseInt(hex.substring(4,6), 16);\n\n    var result = 'rgba('+r+','+g+','+b+','+opacity+')';\n    return result;\n  }\n\n  static myRound(val,places) {\n    var c = 1;\n    for (var i = 0; i < places; i++)\n      c *= 10;\n    return Math.round(val*c)/c;\n  }\n\n  static using(self, ns, pattern, logNames, logValues){\n    self = self || this;\n    if (pattern == undefined) {\n        // import all\n        for (var name in ns) {\n            if(!logNames){\n              self[name] = ns[name];\n            } else {\n              console.log(name, logValues?ns[name]:'');\n            }\n        }\n    } else {\n        if (typeof(pattern) == 'string') {\n            pattern = new RegExp(pattern);\n        }\n        // import only stuff matching given pattern\n        for (var name in ns) {\n            if (name.match(pattern)) {\n              if(!logNames){\n                self[name] = ns[name];\n              } else {\n                console.log(name, logValues?ns[name]:'');\n              }\n            }\n        }\n    }\n  }\n\n  static extend() {\n    for (var i = 1; i < arguments.length; i++){\n\n      if(typeof arguments[i] === 'object'){\n        for (var key in arguments[i]){\n          if (arguments[i].hasOwnProperty(key)){\n            arguments[0] = arguments[0] || {};\n            var obj = this.extend(arguments[0][key], arguments[i][key]);\n            arguments[0][key] = obj;\n          }\n        }\n      } else {\n        arguments[0] = arguments[i];\n\n      }\n\n    }\n    return arguments[0];\n  }\n\n  static setConfig(config){\n    _config = this.extend(_config, config);\n    this.configure();\n  }\n\n  static getConfig(){\n    return _config;\n  }\n\n  static readConfig(scope, param, def){\n    var params = param ? param.split('.') : [];\n\n    var obj;\n\n    try {\n      obj = _config[scope];\n\n      for(var i=0; i<params.length; i++){\n        obj = obj[params[i]];\n      }\n    } catch (e) {\n      obj = null;\n    } finally {\n      obj = obj || def;\n    }\n    return obj;\n  }\n\n  static setParam(scope, param, value){\n    var params = param.split('.');\n\n    var obj;\n\n    try {\n      obj = _config[scope] = _config[scope] || {};\n\n      for(var i=0,l=params.length; i<l; i++){\n        // obj = obj[params[i]];\n        var prop = params[i];\n        obj = obj[prop] = obj[prop] || (i==l-1) ? value : {};\n      }\n    } catch (e) {\n      obj = null;\n    }\n\n    this.configure();\n  }\n\n  static configure(){\n    this.configureConsole();\n  }\n\n  static configureConsole(){\n\n    if(!_config.console.log){\n      console._log = console.log;\n      console.log = function(){};\n    }\n  }\n\n}\n\nexport default Util;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/util/util.js","\n\nclass Ludic {\n  constructor() {\n    this.extensions = {};\n  }\n}\n\nexport default new Ludic();\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app/ludic.js","\nexport default class HUDElement {\n  constructor() {\n\n  }\n\n  render(delta){}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/HUDElement.js","\n\nclass Asset {\n  constructor(name, url, type, options) {\n    this.name = name;\n    this.url = url;\n    this.type = type;\n    this.options = options || {};\n\n  }\n\n  load(){\n  }\n\n  onload(resolve,reject){\n    return () => {\n      resolve(this);\n    };\n  }\n\n  onAssetResolve(am){\n  }\n\n  onAssetReject(am){\n\n  }\n\n  destroy(){\n    this.name = null;\n    this.url = null;\n    this.type = null;\n    this.options = null;\n    this.data = null;\n  }\n}\n\nexport default Asset;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/asset.js","// import ImageAsset from './imageAsset';\n// import RubeAsset from './rubeAsset';\n// import RubeImageAsset from './rubeImageAsset';\nimport ImageLoader from './imageAssetLoader';\n\nclass AssetManager {\n  constructor() {\n    this.assets = {};\n\n    this.loadQueue = [];\n    this.promiseQueue = [];\n    this.loaders = {};\n\n    this.addLoader('image', ImageLoader);\n  }\n\n  loadResource(name, url, type, options, overwrite){\n    // let promise = Promise.reject({\n    //   reason: \"resource load failed\",\n    //   name,\n    //   url,\n    //   type,\n    //   options,\n    //   overwrite\n    // });\n    let promise = null;\n    // first check if we have the asset\n    if(!this.assets[name] || overwrite){\n      var asset = this.NewAsset(name, url, type, options);\n      if(asset){\n        this.loadQueue.push(asset);\n\n        this.loading = true;\n\n        promise = asset.promise.then(this.onAssetResolve.bind(this), this.onAssetReject.bind(this));\n      }\n    }\n    return promise;\n  }\n\n  getAsset(name){\n    return this.assets[name];\n  }\n\n  getImage(name){\n    var asset = this.getAsset(name);\n\n    switch (asset.type) {\n      case 'image':\n      case 'rubeImage':\n        return asset.data;\n        break;\n      default:\n        return null;\n    }\n  }\n\n  getData(name){\n    return this.getAsset(name).data;\n  }\n\n  onAssetResolve(asset){\n    this.assets[asset.name] = asset;\n    asset.onAssetResolve(this);\n    return asset;\n  }\n\n  onAssetReject(){\n    console.log('rejected: ',arguments);\n    return Promise.reject({\n      reason: 'onAssetReject'\n    });\n  }\n\n  isLoading(){\n    return this.loading;\n  }\n\n  step(){\n\n    if(this.loadQueue.length==0){\n      if(!this.finalPromise){\n        this.finalPromise = Promise.all(this.promiseQueue).then(()=>{\n          if(this.finalPromise){ // [tries to*] assures that this is not called prematurely if an asset is added late\n            this.assetsLoaded.apply(this, arguments);\n            this.promiseQueue = []; // reset promise queue to free objects;\n          }\n        });\n      }\n    } else {\n      this.finalPromise = null;\n      var asset = this.loadQueue.shift();\n      this.promiseQueue.push(asset.promise);\n      asset.load();\n    }\n\n  }\n\n  assetsLoaded(){\n    // console.log('all assets loaded: ',arguments);\n    if(this.onAssetsLoadedCallback){\n      this.onAssetsLoadedCallback(this);\n    }\n    this.loading = false;\n  }\n\n  setOnAssetsLoadedCallback(callback){\n    this.onAssetsLoadedCallback = callback;\n  }\n\n  NewAsset(name, url, type, options){\n    type = type || 'image';\n    // switch (type) {\n    //   case 'image':\n    //     return new ImageAsset(name, url, type, options);\n    //     break;\n    //   case 'rube':\n    //     return new RubeAsset(name, url, type, options);\n    //     break;\n    //   case 'rubeImage':\n    //     return new RubeImageAsset(name, url, type, options);\n    //     break;\n    //   default:\n    //     return null;\n    // }\n\n    let loader = this.loaders[type];\n\n    if(loader){\n      return loader.load(name, url, type, options);\n    } else {\n      return null;\n    }\n  }\n\n  destroyAsset(asset){\n    delete this.assets[asset.name];\n    asset.destroy();\n  }\n\n  addLoader(fileTypes, loader){\n    if(typeof fileTypes === 'string'){\n      fileTypes = [fileTypes];\n    }\n\n    fileTypes.forEach((type)=>{\n      this.loaders[type] = loader;\n    });\n  }\n}\n\nexport default new AssetManager();\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/assetManager.js","import Util from '../util/util';\nimport Vector2 from '../engine/Vector2';\nimport Canvas from 'components/canvas/canvas';\nimport Ludic from 'components/app/ludic';\n\nvar DEFAULT_PTM = 32;\n\nconst DEFAULTS = {\n  inverseY: true,\n  inverseX: false,\n  x: 0,\n  y: 0,\n  ptm: DEFAULT_PTM,\n}\n\nclass Camera {\n\n  /**\n   * `new Camera(options)`\n   * @param {object} [options] - options object\n   * @param {boolean} [options.inverseY=true] - make 'y' axis point up\n   * @param {boolean} [options.inverseX=false] - make 'x' axis point left\n   * @param {number} [options.x=0] - 'x' coordinate to start the camera\n   * @param {number} [options.y=0] - 'y' coordinate to start the camera\n   * @param {number} [options.width=Ludic.canvas.width()] - width of the camera view\n   * @param {number} [options.height=Ludic.canvas.height()] - height of the camera view\n   *\n   * `new Camera({Canvas})`\n   * @param {Canvas} [canvas] - optional canvas to provide dimensions\n   *\n   * `new Camera(ptm)` - assumes fill canvas width/height\n   * @param {number} [ptm] - pixels to meters scaling factor\n   *\n   * `new Camera(width,height)`\n   * @param {number} [width] - width of the camera view\n   * @param {number} [height] - height of the camera view\n   *\n   * `new Camera(x,y,width,height)`\n   * @param {number} [x] - 'x' coordinate to start the camera\n   * @param {number} [y] - 'y' coordinate to start the camera\n   * @param {number} [width] - width of the camera view\n   * @param {number} [height] - height of the camera view\n   */\n  constructor(){\n    let options = Object.assign({},DEFAULTS,{\n      width: Ludic.canvas.width(),\n      height: Ludic.canvas.height(),\n    });\n    if(arguments.length === 1){\n      if(typeof arguments[0] === 'object'){\n        if(arguments[0] instanceof Canvas){\n          options.width = canvas.width();\n          option.height = canva.height();\n        } else {\n          // options argument\n          options = Object.assign(options, arguments[0])\n        }\n      } else if(typeof arguments[0] === 'number'){\n        // arg is ptm\n        options.ptm = arguments[0];\n      } else {\n        console.warn(`Camera::Unknown single argument '${typeof arguments[0]}'.`, arguments);\n      }\n    } else if(arguments.length === 2) {\n      // width and height\n      let [width, height] = arguments;\n      options.width = width;\n      options.height = height;\n    } else if(arguments.length === 4){\n      // x,y,width,height\n      let [x,y,width,height] = arguments;\n      options.x = x;\n      options.y = y;\n      options.width = width;\n      options.height = height;\n    } else if(arguments.length !== 0) {\n      console.warn(`Camera::Unknown arguments.`, arguments);\n    }\n\n    // apply the options\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.inverseX = options.inverseX;\n    this.inverseY = options.inverseY;\n    this.ptm = options.ptm;\n\n    // setup variables\n    this.viewCenterPixel = {\n      x: 0,\n      y: 0\n    };\n    this.singleWorldPoint = {\n      x:0,\n      y:0\n    };\n    this.singlePixelPoint = {\n      x:0,\n      y:0\n    };\n    this.offset = {\n      x:0,\n      y:0\n    };\n    this.futurePos = new Vector2(0,0);\n\n    this.updateEnvironmentVariables();\n    window.addEventListener('resize', this.updateEnvironmentVariables.bind(this), false);\n\n    window.camera = this;\n  }\n\n  getCanvas(){\n    return this.canvas;\n  }\n\n\n  draw(ctx){\n\n    this.setTransform(ctx);\n\n  }\n\n  drawAxes(ctx) {\n    ctx.strokeStyle = 'rgb(192,0,0)';\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(1, 0);\n    ctx.stroke();\n    ctx.strokeStyle = 'rgb(0,192,0)';\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(0, 1);\n    ctx.stroke();\n  }\n\n  setChaseEntity(ent,chaseMethod){\n    this.chaseEntity = ent;\n    this.chaseMethod = chaseMethod;\n  }\n\n  setChaseMethod(chaseMethod){\n    this.chaseMethod = chaseMethod;\n  }\n\n  getWorldPointFromPixelPoint(pixelPoint) {\n    this.singleWorldPoint.x = this._getWorldPointFromPixelPoint_x(pixelPoint.x)\n    this.singleWorldPoint.y = this._getWorldPointFromPixelPoint_y(pixelPoint.y);\n    return this.singleWorldPoint;\n  }\n\n  _getWorldPointFromPixelPoint_x(x){\n    // let inv = (this.offset.x - x) / this.ptm;\n    // let reg = (x - this.offset.x) / this.ptm;\n    return (this.inverseX ? (this.offset.x - x) : (x - this.offset.x)) / this.ptm\n  }\n\n  _getWorldPointFromPixelPoint_y(y){\n    // let inv = (y - (this.height - this.offset.y)) / this.ptm;\n    // let reg = ((this.height - this.offset.y) - y) / this.ptm;\n    return (this.inverseY ? (y - (this.height - this.offset.y)) : ((this.height - this.offset.y) - y)) / this.ptm\n  }\n\n  getPixelPointFromWorldPoint(worldPoint){\n    this.singlePixelPoint.x = this._getPixelPointFromWorldPoint_x(worldPoint.x);\n    this.singlePixelPoint.y = this._getPixelPointFromWorldPoint_y(worldPoint.y);\n    return this.singlePixelPoint;\n  }\n\n  _getPixelPointFromWorldPoint_x(x){\n    // let reg = (x*this.ptm) + this.offset.x;\n    // let inv = this.offset.x - (x*this.ptm);\n    return this.inverseX ? (this.offset.x - (x*this.ptm)) : ((x*this.ptm) + this.offset.x);\n  }\n\n  _getPixelPointFromWorldPoint_y(y){\n    // let inv = (y*this.ptm) + (this.height - this.offset.y);\n    // let reg = (this.height - this.offset.y) - (y*this.ptm);\n    return this.inverseY ? ((y*this.ptm) + (this.height - this.offset.y)) : ((this.height - this.offset.y) - (y*this.ptm));\n  }\n\n  setViewCenterWorld(vector2, instantaneous, fraction) {\n    var currentViewCenterWorld = this.getViewCenterWorld();\n    var toMove = {};\n    toMove.x = vector2.get_x() - currentViewCenterWorld.x;\n    toMove.y = vector2.get_y() - currentViewCenterWorld.y;\n    this.moveCenterBy(toMove, instantaneous, fraction);\n  }\n\n  centerWorldToCamera(){\n    // this.setViewCenterWorld(new Vector2(), true);\n    this.setOffset(this.viewCenterPixel);\n  }\n\n  centerWorldToTopLeft(){\n    this.setViewCenterWorld(new Vector2(), true);\n  }\n\n  getViewCenterWorld(){\n    return this.getWorldPointFromPixelPoint( this.viewCenterPixel );\n  }\n\n  moveCenterBy(toMove,instantaneous, fraction){\n    fraction = fraction || instantaneous ? 1 : 0.25;\n    this.offset.x -= Util.myRound(fraction * toMove.x * this.ptm, 0);\n    this.offset.y += Util.myRound(fraction * toMove.y * this.ptm, 0);\n  }\n\n  updateEnvironmentVariables(){\n    this.viewCenterPixel = {\n      x: this.width / 2,\n      y: this.height / 2\n    };\n  }\n\n  getViewCenterPixel(){\n    return this.viewCenterPixel\n  }\n\n  getViewportBounds(){\n    var bounds = {\n      x: this._getWorldPointFromPixelPoint_x(0),\n      y: this._getWorldPointFromPixelPoint_y(0),\n      w: this._getWorldPointFromPixelPoint_x(this.width),\n      h: this._getWorldPointFromPixelPoint_y(this.height),\n    }\n    return bounds;\n  }\n\n  getPTM(){\n    return this.ptm;\n  }\n\n  setPTM(ptm){\n    this.ptm = ptm;\n  }\n\n  getOffset(){\n    return this.offset;\n  }\n\n  getOffsetX(){\n    return this.offset.x;\n  }\n\n  getOffsetY(){\n    return this.offset.y;\n  }\n\n  setOffset(obj, y){\n    if(typeof obj === 'object' && !y){\n      this.offset.x = obj['x'] || 0;\n      this.offset.y = obj['y'] || 0;\n    } else if(typeof obj === 'number' && typeof y === 'number'){\n      this.offset.x = obj;\n      this.offset.y = y;\n    }\n  }\n\n  setTransform(ctx){\n    ctx.translate(this.getOffsetX(), this.getOffsetY());\n    let ptm = this.getPTM();\n    // apply the scaling factor and inverses\n    ctx.scale(this.inverseX ? -ptm : ptm, this.inverseY ? -ptm : ptm);\n    ctx.lineWidth /= ptm;\n  }\n\n  resetTransform(ctx){\n    let ptm = this.getPTM();\n    // ctx.scale(1 / this.getPTM(),1 / this.getPTM());\n    ctx.scale(this.inverseX ? (-1 / ptm) : (1 / ptm), this.inverseY ? (-1 / ptm) : (1 / ptm));\n    ctx.lineWidth *= ptm;\n    ctx.translate(-this.getOffsetX(), -this.getOffsetY());\n  }\n}\n\n\nexport default Camera;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/camera.js","import Asset from './asset';\n\nclass ImageAsset extends Asset {\n  constructor(name, url, type, options) {\n    super(name, url, type || 'image', options);\n\n    this.data = new Image();\n    this.promise = new Promise((resolve,reject)=>{\n      this.data.onload = this.onload(resolve,reject);\n    });\n\n  }\n\n  load(){\n    this.data.src = this.url;\n  }\n\n  onload(resolve,reject){\n    return () => {\n      resolve(this);\n    };\n  }\n\n  destroy(){\n\n  }\n}\n\nexport default ImageAsset;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/imageAsset.js","import Util from '../util/util';\n\nclass Canvas {\n  constructor() {\n    this.setupFullscreen();\n    this.config = Util.readConfig('canvas');\n    this.focus();\n\n  }\n\n  setupFullscreen(){\n    var ludicContainerId = Util.readConfig('ludic','id', 'ludic'); // get or use default container id for ludic canvas\n    var canvasId = Util.readConfig('canvas','id', 'ludic-canvas');\n    var fullscreen = Util.readConfig('canvas', 'fullscreen', false);\n    var fps = Util.readConfig('camera', 'fps');\n\n    var body = document.querySelector('body');\n    var container = document.querySelector(`#${ludicContainerId}`);\n\n    // create ludic container if no container was found\n    if(!container){\n      container = document.createElement('div');\n      container.id = `${ludicContainerId}`;\n      body.appendChild(container);\n    }\n\n    if(fullscreen){\n      // add correct divs\n      var canvas = document.createElement('canvas');\n      canvas.id = canvasId;\n      canvas.setAttribute('tabindex', 1);\n      container.appendChild(canvas);\n\n      this.setElement(canvas);\n\n      window.addEventListener('resize', this.resize.bind(this), false);\n      this.resize();\n    } else {\n      var wrapper = document.createElement('div');\n      wrapper.setAttribute('style', 'text-align:center');\n      container.appendChild(wrapper);\n\n      var canvasWrapper = document.createElement('div');\n      canvasWrapper.setAttribute('style', 'margin:auto;width:640px;padding:2px;border:1px solid #888;text-align:left');\n      container.appendChild(canvasWrapper);\n\n      var canvas = document.createElement('canvas');\n      canvas.id = canvasId;\n      canvas.setAttribute('width', 640);\n      canvas.setAttribute('height', 480);\n      canvas.setAttribute('tabindex', 1);\n      canvasWrapper.appendChild(canvas);\n\n      this.setElement(canvas);\n    }\n  }\n\n  resize(){\n    this.el.width = window.innerWidth;\n    this.el.height = window.innerHeight;\n  }\n\n  focus(){\n    this.el.focus();\n  }\n\n  getElement() {\n    return this.el;\n  }\n\n  setElement(canvas){\n    this.el = canvas;\n  }\n\n  addEventListener(){\n    this.el.addEventListener.apply(this.el, arguments);\n  }\n\n  removeEventListener(){\n    this.el.removeEventListener.apply(this.el, arguments);\n  }\n\n  getContext(dimension){\n    dimension = dimension || '2d';\n    return this.el.getContext(dimension);\n  }\n\n  height(){\n    return this.el.height;\n  }\n\n  width(){\n    return this.el.width;\n  }\n}\n\nexport default Canvas;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/canvas/canvas.js","\n\nexport default class Vector2 {\n  constructor(x = 0,y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get_x(){\n    return this.x;\n  }\n  get_y(){\n    return this.y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/engine/Vector2.js","import Util from '../util/util';\nimport KeyCodeMap from './keyCodeMap';\n\nlet listeners = [];\nlet defaultKeyConfig = {\n  preventDefault: true\n}\nlet ps4Mapping = {\n  buttons: ['cross','circle','square','triangle','l1','r1','l2','r2','extra','start','l3','r3','up','down','left','right','home','select'],\n  axes: ['lx','ly','rx','ry'],\n  sticks: {\n    lx:'leftStick',\n    ly:'leftStick',\n    rx:'rightStick',\n    ry:'rightStick'\n  }\n};\n\nlet gamepadMaps = {\n  'Wireless Controller (STANDARD GAMEPAD Vendor: 054c Product: 05c4)':ps4Mapping // ps4 controller\n};\n\nlet gamepadsAxisDeadZone = 0.08;\nlet gamepadsConfig = {};\n\nlet mousePosPixel = {};\nlet prevMousePosPixel = {};\n// let gamepadTypeMaps = [{id:'054c',type:'ps4'}];\n\nclass InputController {\n  constructor(canvas) {\n    this.canvas = canvas;\n    // this.config = Util.readConfig('input');\n    // TODO: refactor config\n    this.config = {};\n\n    this.initKeys();\n    this.initMouse();\n    this.initGamepads();\n  }\n\n  // input methods\n\n  addEventListener(listener){\n    listeners.push(listener);\n  }\n\n  // to be deprecated for `newInputListener`\n  newEventListener(options, binder, alsoAdd){\n    if(typeof alsoAdd === 'undefined' && typeof binder === 'boolean'){\n      // alsoAdd was the second param, without binder\n      alsoAdd = binder;\n      binder = null;\n    }\n    var l = new InputEventListener(options, binder);\n    if(alsoAdd){\n      this.addEventListener(l);\n    }\n    return l;\n  }\n\n  /**\n   * Instantiates and returns a new InputEventListener\n   * @param {Object} options - passed along to new InputEventListener\n   * @param {Binder} binder (optional) - passed along to new InputEventListener\n   * @param {Boolean} alsoAdd (optional) - determines whether the returning InputEventListener should also be added to this\n   *\n   * @return {InputEventListener} - listener object used to attached handlers for input events\n   */\n  newInputListener(options, binder, alsoAdd){\n    if(typeof alsoAdd === 'undefined' && typeof binder === 'boolean'){\n      // alsoAdd was the second param, without binder\n      alsoAdd = binder;\n      binder = null;\n    }\n    var l = new InputEventListener(options, binder);\n    if(alsoAdd){\n      this.addEventListener(l);\n    }\n    return l;\n  }\n\n  removeEventListener(listener){\n    var ix = listeners.indexOf(listener);\n    if(ix>-1){\n      listeners.splice(ix,1);\n    }\n  }\n\n  //  -- keyboard\n  initKeys() {\n    // object for all key states\n    this.allKeys = {};\n\n    this.canvas.addEventListener('keydown', function(evt) {\n      // evt.preventDefault();\n      // this.onKeyDown(this.canvas,evt);\n      this.onKeyEvent(this.canvas,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('keyup', function(evt) {\n      // evt.preventDefault();\n      // this.onKeyUp(this.canvas,evt);\n      this.onKeyEvent(this.canvas,evt);\n    }.bind(this), false);\n  }\n\n  onKeyEvent(canvas, evt) {\n    // console.log(evt);\n    var l;\n    let down = evt.type === 'keydown';\n    let dir = down?'down':'up';\n\n    // give the event a list of all keys states\n    this.allKeys[evt.keyCode] = this.allKeys[evt.key] = down;\n    evt.allKeys = this.allKeys;\n\n    if(this.config.logAllKeys){\n      console.log(evt.keyCode);\n    }\n    for(var i=listeners.length-1; i>=0; i--){\n      l = listeners[i];\n      if(!l || !l.enabled){ continue;}\n\n      let cfg = l.keyConfig;\n      let key = cfg[evt.keyCode];\n      let binder = l.binder || l;\n      if(key){\n        if(typeof key === 'object' || Array.isArray(key)) {\n          let keys;\n          // make array out of single object, treat everything like an array\n          if(Array.isArray(key)){\n            keys = key;\n          } else {\n            keys = [key];\n          }\n\n          // loop through all key configs\n          for(let key of keys){\n            let modifiers = false;\n            let direction = !key.hasOwnProperty('direction') || key.direction === dir || key.direction === 'both';\n            let method = key.hasOwnProperty('method') && key.method;\n            key._once = down?key._once:false;\n\n            // logic for modifiers\n            if(!!key.shiftKey == evt.shiftKey && !!key.altKey == evt.altKey && !!key.ctrlKey == evt.ctrlKey){\n              modifiers = true;\n            }\n\n            if(method && modifiers && direction && !key._once){\n              binder = key.binder || binder;\n              var b = this._execCommand(l,method,binder,down,evt);\n              key._once = key.once && down;\n            }\n          }\n        } else {\n          console.warn(`InputController: Unsupported key config type '${key}'`);\n        }\n      }\n      // else {\n      //   console.log('no config for keycode', evt.keyCode, key);\n      // }\n\n      // check for if listener wants the only control\n      if(l.stopPropagation){\n        break;\n      }\n    }\n\n  }\n\n  _execCommand(listener, method, binder, ...args){\n    if(typeof method === 'string'){\n      return listener[method].call(binder,...args);\n    } else if(typeof method === 'function'){\n      return method.call(binder,...args);\n    } else {\n      return false;\n    }\n  }\n\n\n  //  -- mouse\n  initMouse(){\n    this.canvas.addEventListener('mousemove', function(evt) {\n      this.onMouseEvent('mouseMove',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('mousedown', function(evt) {\n      this.onMouseEvent('mouseDown',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('mouseup', function(evt) {\n      this.onMouseEvent('mouseUp',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('mouseout', function(evt) {\n      this.onMouseEvent('mouseOut',this.canvas.el,evt);\n    }.bind(this), false);\n\n    // touch events\n    this.canvas.addEventListener('touchstart', function(evt) {\n      this.onMouseEvent('touchStart',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('touchend', function(evt) {\n      this.onMouseEvent('touchEnd',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('touchmove', function(evt) {\n      this.onMouseEvent('touchMove',this.canvas.el,evt);\n    }.bind(this), false);\n\n    this.canvas.addEventListener('touchcancel', function(evt) {\n      this.onMouseEvent('touchCancel',this.canvas,evt);\n    }.bind(this), false);\n  }\n\n  onMouseEvent(key, canvas, evt){\n    prevMousePosPixel = mousePosPixel;\n    this.updateMousePos(canvas, evt);\n\n    for(var i=listeners.length-1; i>=0; i--){\n      let l = listeners[i];\n      if(l && l.enabled){\n        if(l.hasOwnProperty(key)){\n          let bndr = l.binder || l;\n          let b = l[key].call(bndr,mousePosPixel,evt);\n          if(b === true){\n            return;\n          }\n        }\n      }\n    }\n  }\n\n  //    -- mouse helper function\n  updateMousePos(canvas, evt) {\n    var rect = canvas.getBoundingClientRect();\n    mousePosPixel = {\n      x: evt.clientX - rect.left,\n      y: canvas.height - (evt.clientY - rect.top)\n    };\n  }\n\n  //  -- gamepad\n  initGamepads(){\n    this.gamepads = {};\n    this.lastButtonStates = [\n      [], // gamepad index 0\n      [], // gamepad index 1\n      [], // gamepad index 2\n      []  // gamepad index 3\n    ];\n    this.lastAxisStates = [\n      [], // gamepad index 0\n      [], // gamepad index 1\n      [], // gamepad index 2\n      []  // gamepad index 3\n    ];\n    window.addEventListener(\"gamepadconnected\", (e)=>{\n      console.log(\"Gamepad connected at index %d: %s. %d buttons, %d axes.\",\n        e.gamepad.index, e.gamepad.id,\n        e.gamepad.buttons.length, e.gamepad.axes.length);\n      console.log(e.gamepad);\n      this.getGamepads();\n    });\n    window.addEventListener(\"gamepaddisconnected\", (e)=>{\n      console.log('Gamepad disconnected: ',e);\n      this.getGamepads();\n    });\n\n    window.addEventListener('gamepadbuttondown', (e)=>{\n      console.log('gamepad button down: ',e);\n    });\n\n    window.addEventListener('gamepadbuttonup', (e)=>{\n      console.log('gamepad button up: ',e);\n    });\n  }\n\n  getGamepads(){\n    var gps = navigator.getGamepads() || [];\n    var gp;\n    for(var i=0;i<gps.length;i++){\n      gp = gps[i];\n      if(gp){\n        this.gamepads[gp.index] = gp;\n      }\n    }\n    return this.gamepads;\n  }\n\n  update(){\n    this._stepGamepads();\n  }\n\n  _stepGamepads(){\n    var gps = this.getGamepads();\n    var gp;\n    for(var i in gps){\n      gp = gps[i]; // gamepad instance from api\n      if(gp){\n\n        // for each gamepad that the api reads; poll the state of each button,\n        //  sending an event when pressed\n        gp.buttons.forEach( (b,ix)=>{\n          // get the last known state of the button\n          var lastState = this.getLastState(i,ix);\n          b.index = ix; // tell the button what it's index is\n          b.lastState = lastState;\n\n          if(b.pressed){\n            // if pressed, create a button event and set the buttons last known state\n            this.gamepadButtonEvent(gp,b,true);\n            this.setLastState(i,ix,true);\n          } else {\n            if(lastState) {\n              // if the button is not pressed but its last state was pressed, create a 'button up' event\n              if(lastState.pressed) {\n                this.gamepadButtonEvent(gp,b,false);\n              }\n            }\n            // set the buttons last known state for not pressed\n            this.setLastState(i,ix,false);\n          }\n        });\n\n        // do the same thing for each of the axis (analog sticks)\n        // loop through each and poll state\n        gp.axes.forEach( (value,axis)=>{\n          // get the deadZone associated with each axis\n          var dz = this.getDeadZone(axis);\n          // get the last known state for the axis\n          var lastState = this.getLastAxisState(i,axis);\n\n          // if the value of the axis is withing the bounds of the deadzone\n          //  create an axis event\n          if( value < -dz || value > dz ){\n            this.gamepadAxisEvent(gp,axis,value,false);\n          } else if(!lastState.zeroed){\n            this.gamepadAxisEvent(gp,axis,0,true);\n          }\n        });\n      } else {\n        console.log('no gamepad!',i);\n      }\n    }\n  }\n\n  getLastAxisState(gpIndex,axis){\n    var b = this.lastAxisStates[gpIndex][axis] || {zeroed:true};\n    return b;\n  }\n\n  setLastAxisState(gpIndex,axis,state){\n    this.lastAxisStates[gpIndex][axis] = {zeroed:state};\n  }\n\n  getDeadZone(gamepadIndex){\n    if(gamepadsConfig.hasOwnProperty(gamepadIndex) && gamepadsConfig[gamepadIndex].hasOwnProperty(deadZone)){\n      return gamepadsConfig[gamepadIndex].deadZone;\n    }\n    return gamepadsAxisDeadZone;\n  }\n\n  setDeadZone(deadZone,gamepadIndex){\n    if(gamepadIndex !== null && gamepadIndex !== undefined){\n      if(gamepadsConfig.hasOwnProperty(gamepadIndex)){\n        gamepadsConfig[gamepadIndex].deadZone = deadZone;\n      } else {\n        gamepadsConfig[gamepadIndex] = {deadZone: deadZone};\n      }\n    } else {\n      gamepadsAxisDeadZone = deadZone;\n    }\n  }\n\n  getLastState(i,ix){\n    var b = this.lastButtonStates[i][ix];\n    return b;\n  }\n\n  setLastState(i,ix,state){\n    this.lastButtonStates[i][ix] = {pressed:state};\n  }\n\n  gamepadButtonEvent(gamepad,button,down) {\n    button.id = gamepadMaps[gamepad.id].buttons[button.index];\n    if(button.id){\n      this.onGamepadButtonEvent(new GamepadButtonEvent(gamepad,button,down));\n    } else {\n      console.log(arguments);\n    }\n  }\n\n  onGamepadButtonEvent(evt){\n    var l;\n    let down = evt.down;\n\n    // if(this.config.logAllKeys){\n    //   console.log(evt.keyCode,evt.keyIdentifier);\n    // }\n    for(let i=listeners.length-1; i>=0; i--){\n      l = listeners[i];\n      if(!l || !l.enabled){\n        continue;\n      }\n      let func = l[evt.keyIdentifier];\n      if(!func){\n        continue;\n      }\n      if(l.gamepadIndex >= 0 && l.gamepadIndex !== evt.gamepadIndex){\n        continue;\n      }\n\n      let bndr = l.binder || l;\n      let b = func.call(bndr,down,evt);\n      if(b === true){\n        return;\n      }\n      // check for if listener wants the only control\n      if(l.stopPropagation){\n        break;\n      }\n    }\n    // if(this.config.logUnmappedKeys){\n    //   console.log(evt.keyCode,evt.keyIdentifier,evt.button.value, listeners.length===0?\"No listeners\":\"\");\n    // }\n  }\n\n  getGamepadMap(gamepadId){\n    return gamepadMaps[gamepadId] || {};\n  }\n\n  gamepadAxisEvent(gamepad,axisIndex,value,zeroed){\n    this.setLastAxisState(gamepad.index,axisIndex,zeroed);\n    var gpMap = this.getGamepadMap(gamepad.id);\n    var axis = {};\n    axis.id = gpMap.axes[axisIndex];\n    axis.stick = gpMap.sticks[axis.id];\n    axis.index = axisIndex;\n    axis.value = value;\n    axis.zeroed = zeroed;\n\n    var evt = new GamepadAxisEvent(gamepad,axis);\n    evt.values = {};\n    if(axis.stick==='leftStick'){\n      evt.values.x = gamepad.getValueByAxisId('lx');\n      evt.values.y = gamepad.getValueByAxisId('ly');\n    } else if(axis.stick==='rightStick'){\n      evt.values.x = gamepad.getValueByAxisId('rx');\n      evt.values.y = gamepad.getValueByAxisId('ry');\n    }\n\n\n\n\n    this.onGamepadAxis(evt);\n  }\n\n  onGamepadAxis(evt){\n    var l;\n    for(var i=listeners.length-1; i>=0; i--){\n      l = listeners[i];\n      if(!l){\n        continue;\n      }\n\n      let func = l[evt.stick];\n      if(!func){\n        continue;\n      }\n      // only fire for correct gamepadIndex\n      if(l.gamepadIndex >= 0 && l.gamepadIndex !== evt.gamepadIndex){\n        continue;\n      }\n\n      let bndr = l.binder || l;\n      if(func.call(bndr,evt.values.x,evt.values.y,evt) === false){\n        continue;\n      }\n      return;\n    }\n  }\n\n}\n\nlet stripModifiers = function(key){\n  let mods = key.split('.');\n  key = mods[0];\n  let ret = {key, config:{}};\n  if(mods.length > 1){\n    for(let i=1; i<mods.length; i++){\n      let mod = mods[i];\n      switch (mod) {\n        case 'alt':\n        case 'altKey':\n          ret.config.altKey = true;\n          break;\n        case 'shift':\n        case 'shiftKey':\n          ret.config.shiftKey = true;\n          break;\n        case 'ctrl':\n        case 'ctrlKey':\n          ret.config.ctrlKey = true;\n          break;\n        case 'up':\n          ret.config.direction = 'up';\n          break;\n        case 'down':\n          ret.config.direction = 'down';\n          break;\n        case 'once':\n          ret.config.once = true;\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  return ret;\n}\n\nlet importKeyConfig = function(keyConfig){\n  let config = {};\n  for(let key in keyConfig){\n    let mods = stripModifiers(key);\n    let _key = key;\n    let cfg = keyConfig[key];\n    key = KeyCodeMap[mods.key] || mods.key;\n\n    // everything needs to be an array of objects\n    if(typeof cfg === 'string' || typeof cfg === 'function'){\n      config[key] = [Object.assign({},{method:cfg},mods.config)];\n    } else if(typeof cfg === 'object' && !Array.isArray(cfg)){\n      config[key] = [Object.assign({},mods.config,cfg)];\n    } else if(Array.isArray(cfg)){\n      config[key] = cfg.map((conf)=>{\n        return Object.assign({},mods.config,conf);\n      });\n    } else {\n      console.warn(`InputController: Unsupported key config type '${typeof cfg}' for '${key}'`, cfg);\n    }\n  }\n  return config;\n}\n\nclass InputEventListener {\n  constructor(options, binder) {\n    let keyConfig = options;\n    if(options.hasOwnProperty('keyConfig')){\n      keyConfig = options.keyConfig;\n    }\n    if(options.hasOwnProperty('gamepadIndex')){\n      this.gamepadIndex = options.gamepadIndex;\n    } else {\n      this.gamepadIndex = -1;\n    }\n    if(options.hasOwnProperty('binder')){\n      binder = options.binder;\n    }\n\n    this.stopPropagation = options.stopPropagation;\n\n    this.keyConfig = importKeyConfig.call(this,keyConfig);\n    this.options = options;\n    this.binder = binder;\n    this.enabled = options.hasOwnProperty('enabled') ? options.enabled : true;\n\n    if(options.hasOwnProperty('methods')){\n      this._loadListener(options.methods);\n    }\n  }\n\n  $enable(){\n    this.enabled = true;\n  }\n\n  $disable(){\n    this.enabled = false;\n  }\n\n  _loadListener(listener){\n    let avail = ['start', 'select', 'home', 'extra', 'left', 'right', 'up', 'down',\n      'l1', 'l2', 'l3', 'r1', 'r2', 'r3', 'triangle', 'square', 'circle', 'cross',\n      'leftStick', 'rightStick', 'mouseMove', 'mouseDown', 'mouseUp', 'mouseOut',\n      'touchStart', 'touchEnd', 'touchMove', 'touchCancel',\n    ];\n\n    for(let key of avail){\n      if(key in listener){\n        let method = listener[key];\n\n        if(typeof method === 'function'){\n          this[key] = method;\n        } else if(typeof method === 'string'){\n          console.log(this.keyConfig);\n          let code = method;\n\n          if(Number.isNaN(parseInt(code))){\n            // need to convert char\n            let _code = KeyCodeMap[code];\n            if(_code){\n              code = _code;\n            } else {\n              console.warn('There is no mapping for: ', method);\n              continue;\n            }\n          }\n\n          let arr = this.keyConfig[code];\n\n          if(arr.length === 1){\n            this[key] = arr[0].method\n          } else {\n            console.warn('multiple entries per keycode is not supported at this yet.', key, arr, method);\n          }\n        }\n      }\n    }\n  }\n\n  start(){\n    return null;\n  }\n\n  select(){\n    return null;\n  }\n\n  home(){  // ps/xb button\n    return null;\n  }\n\n  left(){\n    return null;\n  }\n\n  right(){\n    return null;\n  }\n\n  up(){\n    return null;\n  }\n\n  down(){\n    return null;\n  }\n\n  l1(){\n    return null;\n  }\n\n  l2(){\n    return null;\n  }\n\n  l3(){\n    return null;\n  }\n\n  r1(){\n    return null;\n  }\n\n  r2(){\n    return null;\n  }\n\n  r3(){\n    return null;\n  }\n\n  triangle(){\n    return null;\n  }\n\n  square(){\n    return null;\n  }\n\n  circle(){\n    return null;\n  }\n\n  cross(){\n    return null;\n  }\n\n  extra(){\n    return null;\n  }\n\n  leftStick(x,y,event){\n    return null;\n  }\n\n  rightStick(x,y,event){\n    return null;\n  }\n}\n// assign the InputEventListener class as a static property on InputController\n//  so it can be instantiated properly outside of this module\nInputController.InputEventListener = InputEventListener;\n\nclass GamepadButtonEvent {\n  constructor(gamepad,button,down) {\n    this.gamepad = gamepad;\n    this.gamepadIndex = gamepad.index;\n    this.button = button;\n    this.down = down;\n    this.type = 'gamepadButtonEvent';\n    this.keyCode = button.index;\n    this.keyIdentifier = button.id;\n  }\n}\n\n\n\nclass GamepadAxisEvent {\n  constructor(gamepad,axis) {\n    this.gamepad = gamepad;\n    this.gamepadIndex = gamepad.index;\n    this.axis = axis;\n    this.stick = axis.stick;\n    this.keyCode = 200+axis.index;\n    this.keyIdentifier = axis.id;\n    this.values = axis.values;\n    this.type = 'gamepadAxisEvent';\n  }\n}\n\nGamepad.prototype.getValueByAxisId = function(axisId){\n  var gp = gamepadMaps[this.id];\n  var ix = gp.axes.indexOf(axisId);\n  if(ix>-1){\n    return this.axes[ix];\n  }\n  return;\n}\n\nexport default InputController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/input/inputController.js","import PrivateProperty from 'components/util/privateProperty'\n\nlet _stack = new PrivateProperty();\nlet _listeners = new PrivateProperty();\n\nexport default class ScreenManager {\n  constructor() {\n    // initialize some private variables\n    let idIncrementer = 0;\n    this.getNewId = ()=>{\n      return idIncrementer++;\n    }\n\n    // define private properties\n    _listeners.set(this,new Proxy([],{\n      get(target,prop){\n        if(prop in ScreenEventListener.prototype){\n          return (...args)=>{\n            // only call prop if it exists\n            //  this allows for the 'listener' to not be a 'ScreenEventListener' but any object that defines its properties\n            target.forEach(e=> e[prop] != null ? e[prop].call(e,...args) : undefined)\n          }\n        }\n        return target[prop]\n      }\n    }))\n    _stack.set(this,[]);\n  }\n\n  update(delta){\n    let stack = _stack(this);\n    if(stack.length > 0){\n      let screen = stack[stack.length-1];\n      screen._step.apply(screen,arguments);\n\n      if(screen._isFinished){\n        _listeners(this).onScreenFinished(screen, this, screen._finalData);\n      }\n    }\n  }\n\n  addScreen(screen, replace){\n    let stack = _stack(this)\n    // give the screen a ref to the manager\n    screen.$manager = this;\n    // give the screen an id\n    screen.$id = this.getNewId()\n    if(replace){\n      stack.splice(stack.length-1,1,screen);\n    } else {\n      stack.push(screen);\n    }\n    // call screen's callback\n    screen.onAddedToManager(this)\n    // call listener methods\n    _listeners(this).onScreenAdded(screen, this, replace);\n  }\n\n  popScreen(){\n    let stack = _stack(this)\n    if(stack.length > 1){\n      let screen = stack.pop();\n      // call screen's callback\n      screen.onRemovedFromManager(this);\n      // call listener methods\n      _listeners(this).onScreensRemoved([screen], this);\n      return [screen];\n    } else {\n      // cannot pop the last screen, only replace.\n      _listeners(this).onWarnPopScreen(stack, this);\n      return [];\n    }\n  }\n\n  popToScreen(screen){\n    let stack = _stack(this)\n    if(!screen.hasOwnProperty('$id')){\n      return false;\n    }\n    let index = stack.findIndex((s)=>{\n      return s.$id === screen.$id\n    })\n    if(index === -1){\n      return false;\n    } else {\n      let screensRemoved = stack.splice(index);\n      // call screen callback method\n      screensRemoved.slice().reverse().forEach(screen => screen.onRemovedFromManager(this));\n      // call listener method\n      _listeners(this).onScreensRemoved(screensRemoved, this);\n      return screensRemoved;\n    }\n  }\n\n  addScreenEventListener(listener){\n    _listeners(this).push(listener)\n  }\n\n  getNewScreenEventListener(alsoAdd){\n    let listener = new ScreenEventListener()\n    if(alsoAdd){\n      this.addScreenEventListener(listener);\n    }\n    return listener;\n  }\n}\n\nclass ScreenEventListener {\n  onScreenFinished(screen, manager, data){}\n  onScreenAdded(screen, manager, replaced){}\n  onScreensRemoved(screen, manager){}\n  onWarnPopScreen(stack, manager){}\n}\n\nScreenManager.ScreenEventListener = ScreenEventListener;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/screen/screenManager.js","import AssetManager from '../base/assetManager';\n\nconst RIGHT = 10;\nconst LEFT  = 11;\n\nclass BaseSprite {\n  constructor(image, framesX, framesY, offsetX, offsetY) {\n\n    if(typeof image === 'string'){\n      this.image = AssetManager.getImage(image);\n    } else {\n      this.image = image;\n    }\n\n    if(!this.image){\n      console.warn('Sprite created without an image', this);\n      return;\n    }\n\n    this.width = this.image.width;\n    this.height = this.image.height;\n\n    this.frames = [];\n    this.framesX = framesX;\n    this.framesY = framesY;\n    this.frameWidth = this.width / this.framesX;\n    this.frameHeight = this.height / this.framesY;\n    this.totalFrames = this.framesX * this.framesY;\n\n    this.scaleToWidth(1);\n\n    this.setOffset(offsetX || 0, offsetY || 0);\n\n    this.currentFrameIndex = 0;\n\n    this.direction = RIGHT;\n\n    this.parseSpriteSheet();\n\n    this.setFrame();\n  }\n\n  parseSpriteSheet(){\n    for(var y = 0; y < this.framesY; y++){\n      for(var x = 0; x < this.framesX; x++){\n        var frame = {};\n        frame.sx = x * this.frameWidth;\n        frame.sy = y * this.frameHeight;\n\n        this.frames.push(frame);\n      }\n    }\n\n\n\n    console.log(this.frames);\n  }\n\n  animate(){\n    this.currentFrameIndex = (this.currentFrameIndex + 1) % this.frames.length;\n    this.setFrame();\n  }\n\n  setFrame(frameIndex){\n    frameIndex = frameIndex===undefined ? this.currentFrameIndex : frameIndex;\n    this.frame = this.frames[frameIndex];\n  }\n\n  setPosition(pos){\n    this.pos = pos;\n  }\n\n  setOffset(offset, offsetY){\n    if(typeof offset === 'object'){\n      this.offset = offset;\n    } else if(offsetY !== undefined){\n      this.offset = {\n        x: offset,\n        y: offsetY\n      }\n    }\n  }\n\n  setUseShadow(use){\n    this.useShadow = use;\n  }\n\n  setDirection(dir){\n    this.direction = dir;\n  }\n\n  scaleToWidth(w){\n    var h = w / this.frameWidth;\n    this.drawWidth = w;\n    this.drawHeight = h * this.frameHeight;\n  }\n\n  scaleToHeight(h){\n    var w = h / this.frameHeight;\n    this.drawWidth = w * this.frameWidth;\n    this.drawHeight = h;\n  }\n\n  scale(scale){\n    this.drawWidth *= scale;\n    this.drawHeight *= scale;\n  }\n\n  draw(ctx){\n\n    ctx.save();\n    if(this.direction === RIGHT){\n      ctx.scale(1,-1); // flip the y\n      ctx.translate(-this.offset.x,-this.offset.y); //  [ -(w/2) , -(?) ]\n      ctx.translate(this.pos.x,-this.pos.y);\n    } else {\n      ctx.scale(-1,-1); // flip the x & y\n      ctx.translate(-this.offset.x,-this.offset.y); //  [ -(w/2) , -(?) ]\n      ctx.translate(-this.pos.x,-this.pos.y);\n    }\n\n    if(this.useShadow){\n      ctx.shadowColor = 'black';\n      ctx.shadowBlur = 20;\n      ctx.shadowOffsetX = 5;\n      ctx.shadowOffsetY = 10;\n    }\n\n    ctx.drawImage(this.image, this.frame.sx, this.frame.sy, this.frameWidth, this.frameHeight, 0, 0, this.drawWidth, this.drawHeight);\n\n    ctx.restore();\n  }\n}\n\nexport default BaseSprite;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sprite/BaseSprite.js","import HUDElement from './HUDElement'\n\nconst valid_positions_x = ['center', 'left', 'right'];\nconst valid_positions_y = ['center', 'top', 'bottom'];\n\nexport default class Dialog extends HUDElement {\n  constructor({\n    // basic info, position and dimensions\n    x = 0,\n    y = 0,\n    width = 100,\n    height = 100,\n\n    // used for calc based positioning\n    position = '',\n    positionX = '',\n    positionY = '',\n    offset = {x:0,y:0},\n    offsetX = 0,\n    offsetY = 0,\n\n    // basic color info, background and text colors\n    backgroundColor = 'black',\n    textColor = 'white',\n    title = '',\n\n    // allow for instant show when added\n    visible = false,\n\n    // border info\n    borderColor = 'blue',\n    borderWidth = 0,\n\n  } = {}) {\n    super()\n\n    this._x = x;\n    this._y = y;\n    this.width = width;\n    this.height = height;\n    this.backgroundColor = backgroundColor;\n\n    // text vars\n    this.textColor = textColor;\n    this.title =  title;\n\n    // calc positioning setup\n    this.__calcPosition({position, positionX, positionY, offset, offsetX, offsetY});\n\n    if(visible){\n      this.show();\n    }\n\n    this.borderColor = borderColor;\n    this.borderWidth = borderWidth;\n  }\n\n  render(delta, ctx){\n    ctx.save();\n    let pos = this.getPosition(ctx);\n\n    // draw border\n    this._drawBorder(ctx, pos);\n    // draw the main background rect\n    this._drawBackground(ctx, pos);\n\n    // draw the title\n    ctx.save();\n    ctx.fillStyle = this.textColor;\n    ctx.font = '22px serif';\n    ctx.fillText(this.title, pos.x + 10, pos.y + 22 + 10);\n    ctx.restore();\n\n    ctx.restore();\n  }\n\n  _drawBorder(ctx, pos){\n    if(this.borderWidth > 0){\n      let bw = this.borderWidth - 1;\n      // draw the border just outside the normal dimensions\n      ctx.beginPath();\n      ctx.strokeStyle = this.borderColor;\n      ctx.lineWidth = this.borderWidth;\n      ctx.moveTo(pos.x-bw, pos.y-bw);\n      ctx.lineTo(pos.x+this.width+bw, pos.y-bw);\n      ctx.lineTo(pos.x+this.width+bw, pos.y+this.height+bw);\n      ctx.lineTo(pos.x-bw, pos.y+this.height+bw);\n      ctx.closePath();\n      ctx.stroke();\n    }\n  }\n\n  _drawBackground(ctx, pos){\n    ctx.fillStyle = this.backgroundColor;\n    ctx.fillRect(pos.x, pos.y, this.width, this.height);\n  }\n\n  show(){\n    this.visible = true;\n  }\n  hide(){\n    this.visible = false;\n  }\n  toggle(){\n    if(this.visible){\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  getPosition(ctx){\n    let position = {x: 0, y: 0}\n    if(this._positionX && this._positionY && ctx){\n      let c_width = ctx.canvas.width;\n      let c_height = ctx.canvas.height;\n\n      let x = this.__getXfromPositionX.call(this, this._positionX, c_width)\n      let y = this.__getYfromPositionY.call(this, this._positionY, c_height)\n\n      position = {x,y};\n    } else if(!ctx) {\n      console.warn(\"Canvas context was not passed into 'getPosition'.\");\n    } else {\n      position = {x: this._x, y: this._y};\n    }\n\n    this.position = position;\n    return this.position;\n  }\n\n  /** Helper Methods **/\n\n  __validatePositionX(posX){\n    if(valid_positions_x.indexOf(posX) > -1){\n      return true;\n    }\n    console.warn('Unknown value for position x: ', posX, '. The valid positions are: ', valid_positions_x);\n    return false\n  }\n\n  __validatePositionY(posY){\n    if(valid_positions_y.indexOf(posY) > -1){\n      return true;\n    }\n    console.warn('Unknown value for position y: ', posY, '. The valid positions are: ', valid_positions_y);\n    return false;\n  }\n\n  __getXfromPositionX(posX, c_width){\n    switch (posX) {\n      case 'center':\n        return (c_width/2) - (this.width/2) + this._offsetX;\n      case 'left':\n        return this._offsetX;\n      case 'right':\n        return (c_width) - (this.width) + this._offsetX;\n        break;\n      default:\n        console.warn('Unknown value for position x: ', posX, '. The valid positions are: ', valid_positions_x);\n        return 0;\n    }\n  }\n\n  __getYfromPositionY(posY, c_height){\n    switch (posY) {\n      case 'center':\n        return (c_height/2) - (this.height/2) + this._offsetY;\n      case 'top':\n        return this._offsetY;\n      case 'bottom':\n        return (c_height) - (this.height) + this._offsetY;\n        break;\n      default:\n        console.warn('Unknown value for position y: ', posY, '. The valid positions are: ', valid_positions_y);\n        return 0;\n    }\n  }\n\n  __calcPosition({position, positionX, positionY, offset, offsetX, offsetY}){\n    if(position){\n      let positions = position.split(' ');\n      if(positions.length == 1 && positions[0] === 'center'){\n        positionX = positionY = positions[0];\n      } else if(positions.length == 2 && this.__validatePositionX(positions[0]) && this.__validatePositionY(positions[1])){\n        positionX = positions[0];\n        positionY = positions[1];\n      }\n    }\n    // should have positionX & positionY, either from above logic or as param\n    if(positionX != null && positionY != null){\n      this._positionX = positionX;\n      this._positionY = positionY;\n    }\n\n    if(offset != null && offset.hasOwnProperty('x') && offset.hasOwnProperty('y')){\n      offsetX = offset.x;\n      offsetY = offset.y;\n    }\n\n    // should have offsetX & offsetY, either from above logic or as param\n    if(offsetX != null && offsetY != null){\n      this._offsetX = offsetX;\n      this._offsetY = offsetY;\n    }\n  }\n\n  /** Getters and Setters **/\n  get offsetX(){\n    return this._offsetX;\n  }\n  set offsetX(x){\n    this._offsetX = x;\n  }\n  get offsetY(){\n    return this._offsetY;\n  }\n  set offsetY(y){\n    this._offsetY = y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/Dialog.js","import Canvas from '../canvas/canvas';\nimport Camera from '../base/camera';\nimport Util from '../util/util';\nimport ScreenManager from '../screen/screenManager';\nimport Ludic from './ludic';\nimport InputController from '../input/inputController';\n\nexport default class LudicApp {\n  constructor(config) {\n    Util.setConfig(config);\n    Ludic.config = config;\n    Ludic.canvas = new Canvas();\n    Ludic.context = Ludic.canvas.getContext();\n    Ludic.screenManager = new ScreenManager();\n    Ludic.input = new InputController(Ludic.canvas);\n    Ludic.util = Util;\n\n    //Put Ludic on the window in devmode\n    if(Ludic.devmode){\n      window.Ludic = Ludic;\n    }\n\n    this.running = false;\n    this.lastTime = Date.now();\n\n    this._requestAnimFrame = (()=>{\n      return  window.requestAnimationFrame       ||\n              window.webkitRequestAnimationFrame ||\n              window.mozRequestAnimationFrame    ||\n              window.oRequestAnimationFrame      ||\n              window.msRequestAnimationFrame     ||\n              (function(){\n                console.warn('LudicApp: falling back to basic requestAnimationFrame');\n                return false;\n              })()                               ||\n              function( callback ){\n                window.setTimeout(callback, 1000 / 60);\n              };\n    })();\n\n    // do some binding\n    this._requestAnimFrame = this._requestAnimFrame.bind(window);\n    this._animate = this._animate.bind(this);\n  }\n\n  // override\n  update(delta) {}\n\n  _animate(time) {\n    if(this.running){\n      this._requestAnimFrame(this._animate);\n\n      var delta = (time - this.lastTime) / 1000;\n      this.lastTime = Ludic._time = time;\n\n      if(!Number.isNaN(delta)){\n        Ludic.context.save();\n        this.update(delta,time);\n        Ludic.context.restore();\n      }\n    }\n  }\n\n  pause() {\n    this.running = !this.running;\n    if (this.running)\n      this._animate();\n  }\n\n  run(updateFunction){\n    this.running = true;\n    if(updateFunction != null){\n      this.update = updateFunction;\n    }\n    this._animate();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app/LudicApp.js","\nvar timeTotal = 0;\nvar averageArray = [];\nvar period = 5;\nvar average;\n\nonmessage = function(event){\n  timeTotal += event.data;\n\n  averageArray.push(event.data);\n\n  if(averageArray.length>period){\n    timeTotal -= averageArray.shift();\n    average = timeTotal / period;\n    // return 1 / average;\n    postMessage(1 / average);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/fps.js","Path2D.rect = function(...args){\n  let p = new Path2D();\n  // .rect(x, y, width, height)\n  p.rect(...args);\n  return p;\n}\nPath2D.arc = function(...args){\n  let p = new Path2D();\n  // .arc(x, y, radius, startAngle, endAngle, anticlockwise)\n  p.arc(...args);\n  return p;\n}\nPath2D.ellipse = function(...args){\n  let p = new Path2D();\n  // .ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, anticlockwise)\n  p.ellipse(...args);\n  return p;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/patches/Path2D.js","import BaseSystem from 'components/ein/BaseSystem'\n\nexport default class Screen {\n  constructor(options) {\n    this.options = options || {};\n  }\n\n  _step(delta,...rest){\n    if(!this._isFinished){\n      this.update.apply(this,arguments);\n    }\n  }\n\n  // override\n  update(delta,...rest){}\n\n  finish(data){\n    if(!this._isFinished){\n      this.onDestroy();\n      this._finalData = data || {};\n      this._isFinished = true;\n    }\n  }\n\n  onDestroy(){}\n  onAddedToManager(manager){}\n  onRemovedFromManager(manager){}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/screen/screen.js","\nimport BaseSprite from './BaseSprite';\n\nclass MultiSprite extends BaseSprite {\n  constructor(image, framesX, framesY, offsetX, offsetY) {\n    super(image, framesX, framesY, offsetX, offsetY);\n\n  }\n\n  createSlice(name, start, count, scale){\n    var slice = {};\n\n    slice.ix = 0;\n    slice._ix = 0;\n    slice.start = start;\n    slice.end = start+count;\n    slice.scale = scale || 1;\n\n    slice.name = name;\n    slice.frames = this.frames.slice(start, slice.end);\n\n    console.log(slice);\n\n    this.slices[name] = slice;\n  }\n\n  createState(name, frameIndex, sliceName){\n    sliceName = sliceName || 'default';\n\n    var state = {};\n\n    state.name = name;\n    state.ix = frameIndex;\n    state.sliceName = sliceName;\n\n    this.states[name] = state;\n  }\n\n  parseSpriteSheet(){\n    this.slices = this.slices || {};\n    this.states = this.states || {};\n    super.parseSpriteSheet.apply(this,arguments);\n    var slice = {\n      ix: 0,\n      start: 0,\n      end: this.frames.length-1,\n      name: 'default',\n      frames: this.frames\n    };\n\n    this.slices[slice.name] = slice;\n    this.setSlice(slice.name);\n  }\n\n  setSlice(name){\n    this.slice = this.slices[name];\n  }\n\n  animate(sliceName, optScale){\n    if(sliceName){\n      this.setSlice(sliceName);\n    }\n\n    var scale = optScale || this.slice.scale,\n        fl = this.slice.frames.length,\n        df = fl * scale,\n        _ix = this.slice._ix++;\n\n    this.slice.ix = Math.floor( ((_ix) % (df)) / scale);\n    if(_ix >= df){\n      this.slice._ix = 1;\n    }\n\n    this.setFrame();\n  }\n\n  setFrame(frameIndex, sliceName){\n    frameIndex = frameIndex===undefined ? this.slice.ix : frameIndex;\n    if(sliceName){\n      this.frame = this.slices[sliceName].frames[frameIndex];\n    } else {\n      this.frame = this.slice.frames[frameIndex];\n    }\n  }\n\n  setState(name){\n    var state = this.states[name];\n    this.setFrame(state.ix, state.sliceName);\n  }\n}\n\nexport default MultiSprite;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sprite/MultiSprite.js","let axesLength = 100;\n\nexport default class HUD {\n  constructor(camera) {\n    this.camera = camera;\n    this.ctx = this.camera.context;\n\n    this.$refs = {};\n    this.elements = [];\n  }\n\n  update(delta){\n    this.ctx.save();\n    this.camera.resetTransform(this.ctx);\n\n    // draw the axis for the hud system\n    this.drawAxes(delta);\n\n    for(let el of this.elements){\n      if(el.visible){\n        el.render(delta, this.ctx);\n      }\n    }\n\n    this.ctx.restore();\n  }\n\n  drawAxes(delta){\n    this.ctx.save();\n    // this is to allow the axes to be seen\n    this.ctx.translate(this.ctx.lineWidth,this.ctx.lineWidth)\n    this.ctx.strokeStyle = 'rgb(192,0,0)';\n    this.ctx.beginPath();\n    this.ctx.moveTo(0, 0);\n    this.ctx.lineTo(axesLength, 0);\n    this.ctx.stroke();\n    this.ctx.strokeStyle = 'rgb(0,192,0)';\n    this.ctx.beginPath();\n    this.ctx.moveTo(0, 0);\n    this.ctx.lineTo(0, axesLength);\n    this.ctx.stroke();\n    this.ctx.restore();\n  }\n\n  addElement(element, ref){\n    this.elements.push(element);\n    if(ref){\n      if(!this.$refs.hasOwnProperty(ref)){\n        this.$refs[ref] = element;\n      } else {\n        console.warn(`Ref \"${ref}\" is already taken`);\n      }\n    }\n    return this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/Hud.js","import Dialog from './Dialog'\nimport Ludic from '../app/ludic'\n\nexport default class MenuDialog extends Dialog {\n  constructor(options) {\n    super(options)\n\n    this.menuItems = [];\n\n  }\n\n  render(delta, ctx){\n    super.render(delta, ctx);\n\n    // render the menu items\n    ctx.save();\n    ctx.translate(this.position.x, this.position.y);\n    this.menuItems.forEach((item, index) => {\n      item.render(delta,ctx,index);\n    });\n    ctx.restore();\n  }\n\n  addMenuItem(item){\n    if(item instanceof MenuDialog.MenuItem){\n      this.menuItems.push(item);\n    } else {\n      console.warn(\"Parameter needs to be of type MenuDialog.MenuItem\");\n    }\n  }\n\n  show(){\n    super.show();\n    // take input control\n    this.input = Ludic.input.newEventListener({\n      stopPropagation: true,\n      keyConfig: {\n        'w': 'up',\n        's': 'down',\n        'esc.once.down': 'start'\n      },\n      methods: {\n        up: this.selectPreviousItem,\n        down: this.selectNextItem,\n        start: this.toggleMenuOpen\n      }\n    }, this, true)\n\n    this.selectedItemIndex = 0;\n    this.selectItem(this.selectedItemIndex);\n  }\n\n  hide(){\n    super.hide();\n    Ludic.input.removeEventListener(this.input);\n  }\n\n  selectItem(index){\n    if(this.selectedItem){\n      this.selectedItem.deselect();\n    }\n    this.selectedItem = this.menuItems[index];\n    this.selectedItem.select();\n  }\n\n  selectNextItem(keyDown, e){\n    if(keyDown && !e.button.lastState.pressed){\n      this.selectItem(++this.selectedItemIndex%this.menuItems.length);\n      // this.selectedItemIndex++;\n    }\n  }\n  selectPreviousItem(keyDown, e){\n    if(keyDown && !e.button.lastState.pressed){\n      this.selectItem((this.menuItems.length-1)-(++this.selectedItemIndex%this.menuItems.length));\n      // this.selectedItemIndex++;\n    }\n  }\n\n  toggleMenuOpen(keyDown, e){\n    if(keyDown && !e.button.lastState.pressed){\n      this.toggle();\n    }\n  }\n}\n\nMenuDialog.MenuItem = class MenuItem {\n  constructor(text) {\n    this.text = text;\n  }\n\n  render(delta, ctx, index){\n    ctx.save();\n    ctx.fillStyle = this.selected ? 'red' : 'white';\n    ctx.font = '22px serif';\n    ctx.fillText(this.text, 10, 59 + (index*27)); // y = fontSize + 10 + distance from title = 22+10+27\n    ctx.restore();\n  }\n\n  select(){\n    this.selected = true;\n  }\n\n  deselect(){\n    this.selected = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/MenuDialog.js","import HUDElement from './HUDElement'\n\nexport default class Text extends HUDElement{\n  constructor(text, x, y, {\n    // default options for text\n    fontFamily = 'serif',\n    fontSize = 12,\n    fontSizeUnit = 'px',\n    color = 'black',\n    drawStyle = 'fill',\n\n    adjustOrigin = true,\n    visible = true\n  } = {}) {\n    super();\n\n    this.visible = true;\n\n    this._adjustOrigin = true;\n    this.drawStyle = drawStyle;\n\n    this.fontFamily = fontFamily;\n    this.setFontSize(fontSize, fontSizeUnit);\n\n    // set the main attrs\n    this.text = text;\n    this.setPosition(x,y);\n    this.color = color;\n  }\n\n  render(delta, ctx){\n    ctx.save();\n    ctx.font = `${this.__fontSize} ${this.fontFamily}`;\n\n    if(this.drawStyle === 'stroke'){\n      ctx.strokeStyle = this.color;\n      ctx.strokeText(this.text, this.x, this._adjustOrigin ? this._y+this._fontSize : this._y);\n    } else {\n      ctx.fillStyle = this.color;\n      ctx.fillText(this.text, this.x, this._adjustOrigin ? this._y+this._fontSize : this._y);\n    }\n    ctx.restore();\n  }\n\n  setPosition(x, y){\n    // x can also be an object with .x/.y props\n    if(typeof x === 'object' && y == null){\n      let pos = x;\n      this.setPositionX(pos.x);\n      this.setPositionY(pos.y)\n    } else if(typeof x === 'number' && typeof y === 'number'){\n      this.setPositionX(x);\n      this.setPositionY(y);\n    } else {\n      console.warn('Unknown parameters passed into \"setPosition\"', arguments);\n    }\n  }\n\n  setPositionX(x){\n    this.x = x;\n  }\n  setPositionY(y){\n    this.y = y;\n  }\n\n  get y(){\n    return parseFloat(this._y);\n  }\n\n  set y(y){\n    y = parseFloat(y);\n    this._y = y;\n  }\n\n  set fontSize(fontSize){\n    this.setFontSize(fontSize);\n  }\n\n  get fontSize(){\n    return this._fontSize;\n  }\n\n  setFontSize(fontSize, unit = this.fontSizeUnit){\n    this.__fontSize = `${fontSize}${unit}`;\n    this._fontSize = parseFloat(fontSize);\n    this.fontSizeUnit = unit;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/Text.js","\nexport function classTypeOf(typeToCheck, type){\n  do {\n    if(typeToCheck === type){\n      return true;\n    }\n  } while ((typeToCheck = Object.getPrototypeOf(typeToCheck)) !== Function.prototype);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/util/utilities.js","import ImageAsset from './imageAsset';\n\nclass ImageAssetLoader {\n  constructor() {\n\n  }\n\n  load(name, url, type, options){\n    return new ImageAsset(name, url, type, options);;\n  }\n}\n\nexport default new ImageAssetLoader();\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/base/imageAssetLoader.js","const DEFAULTS = {\n  active: true,\n  priority: -1,\n}\nexport default class BaseSystem {\n  constructor(active = DEFAULTS.active, priority = DEFAULTS.priority, updateFunction){\n    if(typeof active === 'object'){\n      // process options object if passed as first arg\n      this.options = Object.assign(DEFAULTS, active)\n    } else {\n      this.options = {\n        active,\n        priority,\n        update: updateFunction\n      }\n    }\n    // assign all options to this object\n    for(let prop in this.options){\n      let val = this.options[prop];\n      this[prop] = typeof val === 'function' ? val.bind(this) : val;\n    }\n    this.entities = [];\n  }\n\n  //Overide\n  onEntityAdded(manager){}\n\n  onEntityRemoved(manager){}\n\n  onSystemAddedTo(manager){\n    this.em = manager;\n  }\n\n  onSystemRemovedFrom(manager){}\n\n  //Overide\n  update(...args){}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ein/BaseSystem.js","/** alias mapping for keyboard keys **/\n\nexport default {\n\n  // special keys\n  'enter': '13',\n  'tab': '9',\n  'delete': '8',\n  'backspace': '8',\n  'space': '32',\n  'esc': '27',\n  'escape': '27',\n\n  // modifier keys\n  'control': '17',\n  'ctrl': '17',\n  'alt': '18',\n  'option': '18', // on mac\n  'caps': '20',\n  'caps-lock': '20',\n  'capslock': '20',\n\n  'windows': '91', // windows key\n  'left-command': '91', // left command key on mac layout\n  'left-cmd': '91',\n  'search': '91', // on chromebook\n  'menu': '93', // windows menu\n  'right-command': '93', // right command key on mac layout\n  'right-cmd': '93',\n\n  // arrow keys\n  'left' : '37',\n  'up' : '38',\n  'right' : '39',\n  'down' : '40',\n\n  // alpha keys, in order of keyboard qwerty layout\n  'q': '81',\n  'w': '87',\n  'e': '69',\n  'r': '82',\n  't': '84',\n  'y': '89',\n  'u': '85',\n  'i': '73',\n  'o': '79',\n  'p': '80',\n  'a' : '65',\n  's' : '83',\n  'd' : '68',\n  'f' : '70',\n  'g' : '71',\n  'h' : '72',\n  'j' : '74',\n  'k' : '75',\n  'l' : '76',\n  'z' : '90',\n  'x' : '88',\n  'c' : '67',\n  'v' : '86',\n  'b' : '66',\n  'n' : '78',\n  'm' : '77',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/input/keyCodeMap.js","\n// app\nexport {default as LudicApp} from './components/app/LudicApp'\nexport {default as default, default as Ludic} from './components/app/ludic'\n\n\n// base\nexport {default as Asset} from './components/base/asset'\nexport {default as AssetManager} from './components/base/assetManager'\nexport {default as Camera} from './components/base/camera'\nexport {default as fps} from './components/base/fps'\nexport {default as ImageAsset} from './components/base/imageAsset'\n\n// canvas\nexport {default as Canvas} from './components/canvas/canvas'\n\n// input\nexport {default as InputController} from './components/input/inputController'\n\n// patches\n/*\n  patches that are prototype extensions, just import here\n  patches that require a parameter (monkey patch) export function name with prefix `Patch`\n    i.e. export {default as PatchFixSomeClass} from './components/patches/fixSomeClass'\n*/\nimport Path2D from './components/patches/Path2D';\n\n// screen\nexport {default as Screen} from './components/screen/screen'\nexport {default as ScreenManager} from './components/screen/screenManager'\n\n// sprite\nexport {default as BaseSprite} from './components/sprite/BaseSprite'\nexport {default as MultiSprite} from './components/sprite/MultiSprite'\n\n// ui\nexport {default as HUD} from './components/ui/Hud'\nexport {default as HUDElement} from './components/ui/HUDElement'\nexport {default as Text} from './components/ui/Text'\nexport {default as Dialog} from './components/ui/Dialog'\nexport {default as MenuDialog} from './components/ui/MenuDialog'\n\n// util\nexport {default as Util} from './components/util/util'\nexport * from './components/util/utilities'\n\n// vectors\nexport {default as Vector2} from './components/engine/Vector2'\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\nexport default class PrivateProperty {\n  constructor() {\n    let weakMap = new WeakMap();\n    let ctor = function(...getArgs){\n      return weakMap.get(...getArgs);\n    }\n    ctor.set = function(...setArgs){\n      return weakMap.set(...setArgs);\n    }\n    // ctor.get = function(...getArgs){\n    //   return weakMap.get(...getArgs);\n    // }\n    ctor.get = ctor;\n    return ctor\n  }\n\n  set(...args){\n    this.weakMap.set(...setArgs)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/util/privateProperty.js"],"sourceRoot":""}